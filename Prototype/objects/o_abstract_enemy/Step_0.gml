/// @description FSM and AI
// You can write your code in this editor

// Inherit the parent event
event_inherited();

///////////////////////////////////////////////////////////////////////////////
// AI
///////////////////////////////////////////////////////////////////////////////

AI_follow_player();

//////////////////////////////////////////////////////////////////////////////
// get input for dodge, attack, and special
//////////////////////////////////////////////////////////////////////////////

var AI_next_choice = AI_enemy_choose_input();

NPC_step_queue(AI_next_choice);

///////////////////////////////////////////////////////////////////////////////
// now we can do the real FSM
///////////////////////////////////////////////////////////////////////////////

switch (current_state) {
	
	case states.idle:
		NPC_step_movement();
		break;
	
	case states.attack:
		NPC_step_attack();
		break;
	
	case states.dodge:
		NPC_step_dodge();
		break;
		
	case states.pain:
		NPC_step_pain();
		break;
	
	case states.recover:
		NPC_step_recover();
		break;
}